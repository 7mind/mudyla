#compdef mdl

_mdl() {
  local -a actions flags

  if [[ ${words[$CURRENT]} == -* ]]; then
    flags=(${(f)"$(mdl --autocomplete flags 2>/dev/null)"})
    _describe -t flags 'mudyla flag' flags
    return
  fi

  actions=(${(f)"$(mdl --autocomplete actions 2>/dev/null)"})
  _describe -t actions 'mudyla action' actions -P ':'
}
